import { useMemo, Fragment, useState, useEffect } from "react";
import LiveApp from "./LiveApp";
import GPlay from "./GPlay";

export default function Nav() {
  const links = useMemo(() => [
    ["Tentang Aplikasi"],
    ["Keunggulan"],
    ["Fitur"],
    ["Monitor Corona"],
  ]);

  const [isOpen, setOpen] = useState(false);

  useEffect(() => {
    if (window.innerWidth > 1024) setOpen(true);
  }, [setOpen]);

  return (
    <nav
      className='fixed w-full flex items-center justify-between flex-wrap bg-white-500 p-4 z-30 top-0'
      style={{ background: "white" }}
    >
      <div className='flex justify-between items-center ml-4 w-full lg:w-auto lg:mx-8'>
        <svg
          width='87'
          height='24'
          viewBox='0 0 87 24'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <path
            d='M35.3889 6.13513H33.3838V17.7843H35.3889V6.13513Z'
            fill='#0096EB'
          />
          <path
            d='M44.6451 5.91827C43.2992 5.91827 42.173 6.35072 41.3215 7.1886V6.1345H39.3164V17.8107H41.3215V11.6753C41.3215 9.29679 42.5301 7.89133 44.5627 7.89133C46.2382 7.89133 47.1995 8.89137 47.1995 10.6752V17.8107H49.2321V10.6752C49.2321 7.78321 47.4193 5.91827 44.6451 5.91827Z'
            fill='#0096EB'
          />
          <path
            d='M56.0718 3L54.0392 3.59462V6.16229H51.7045V8.16237H54.0392V14.6491C54.0392 15.8384 54.3413 16.6762 55.0005 17.2168C55.5499 17.7033 56.319 17.9466 57.3627 17.9466C57.8022 17.9466 58.2966 17.8925 58.846 17.8114L59.258 17.7574V15.8654L58.7361 15.9194C57.6649 16.0276 56.731 16.0816 56.3739 15.7573C56.1816 15.5681 56.0992 15.2167 56.0992 14.6762V8.1894H59.258V6.18932H56.0992V3H56.0718Z'
            fill='#0096EB'
          />
          <path
            d='M71.1509 7.59407C70.1072 6.51294 68.6789 5.8913 67.0583 5.8913C63.7073 5.8913 61.0979 8.56708 61.0979 11.9456C61.0979 15.3241 63.7073 17.9999 67.0583 17.9999C68.6789 17.9999 70.1072 17.4053 71.1509 16.2971V17.8107H73.1835V6.13455H71.1509V7.59407ZM67.1407 16.0539C64.8884 16.0539 63.103 14.27 63.103 11.9726C63.103 9.67524 64.8609 7.89138 67.1407 7.89138C69.393 7.89138 71.1509 9.67524 71.1509 11.9726C71.1509 14.27 69.393 16.0539 67.1407 16.0539Z'
            fill='#0096EB'
          />
          <path
            d='M82.4131 5.91827C81.0672 5.91827 79.9411 6.35072 79.0896 7.1886V6.1345H77.0845V17.8107H79.0896V11.6753C79.0896 9.29679 80.2981 7.89133 82.3307 7.89133C84.0062 7.89133 84.9676 8.89137 84.9676 10.6752V17.8107H87.0001V10.6752C87.0001 7.78321 85.2148 5.91827 82.4131 5.91827Z'
            fill='#0096EB'
          />
          <path
            d='M24.2792 11.9297V11.9761C24.2792 14.478 23.4475 16.7946 22.0153 18.6247C21.6688 19.0649 21.0219 19.1112 20.6292 18.7174L19.89 17.9761C19.6359 17.7212 19.6128 17.3274 19.8438 17.0494C20.9295 15.6595 21.5764 13.8988 21.5764 11.9761C21.5764 11.9529 21.5764 11.9297 21.5764 11.9066C21.5533 9.98379 20.8833 8.22318 19.7745 6.83321C19.5435 6.55522 19.5666 6.1614 19.8207 5.90657L20.5599 5.16526C20.9526 4.77144 21.5995 4.81777 21.946 5.23476C23.4013 7.08804 24.2561 9.40464 24.2792 11.9297Z'
            fill='#0096EB'
          />
          <path
            d='M19.4509 20.0154C19.8437 20.4093 19.7975 21.0579 19.3585 21.4054C17.3257 23.027 14.7384 24 11.9432 24H11.9201C8.73213 24 5.84452 22.749 3.71924 20.7104C3.53444 20.5483 3.37273 20.3629 3.18792 20.1776C1.22435 18 0 15.1506 0 11.9768V11.9073C0.0231009 8.75676 1.24745 5.88417 3.25722 3.7529C3.41893 3.56757 3.60374 3.38224 3.78854 3.22008C5.91383 1.2278 8.77833 0 11.9201 0H11.9432C14.7153 0 17.2564 0.949807 19.2892 2.5251C19.7282 2.87259 19.7744 3.52124 19.3816 3.91506L18.5962 4.7027C18.2728 5.02703 17.7646 5.07336 17.395 4.79537C15.8934 3.63707 13.9991 2.96525 11.9663 2.96525H11.9432C9.60997 2.96525 7.48469 3.86873 5.89073 5.32819C5.70592 5.49035 5.52111 5.67568 5.35941 5.861C3.88095 7.45946 2.98001 9.59073 2.95691 11.9305C2.95691 11.9537 2.95691 11.9768 2.95691 12C2.95691 14.3398 3.83475 16.4479 5.2901 18.0695C5.45181 18.2548 5.63662 18.4402 5.82142 18.6023C7.41538 20.1081 9.58687 21.0347 11.9432 21.0347H11.9663C14.0453 21.0347 15.9627 20.3398 17.4874 19.1351C17.857 18.8571 18.3652 18.8803 18.6886 19.2278L19.4509 20.0154Z'
            fill='#0096EB'
          />
        </svg>

        {isOpen ? (
          <svg
            className='lg:hidden mr-4'
            onClick={() => setOpen(false)}
            width='14'
            height='14'
            viewBox='0 0 14 14'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <path
              d='M8.74638 7L13.6346 2.11179C13.8666 1.88021 13.9971 1.56595 13.9974 1.23815C13.9977 0.910351 13.8677 0.595863 13.6361 0.36387C13.4045 0.131876 13.0903 0.00138122 12.7625 0.00109174C12.4347 0.000802246 12.1202 0.130742 11.8882 0.362326L7 5.25054L2.11179 0.362326C1.8798 0.130333 1.56515 0 1.23706 0C0.90897 0 0.59432 0.130333 0.362326 0.362326C0.130333 0.59432 0 0.90897 0 1.23706C0 1.56515 0.130333 1.8798 0.362326 2.11179L5.25054 7L0.362326 11.8882C0.130333 12.1202 0 12.4349 0 12.7629C0 13.091 0.130333 13.4057 0.362326 13.6377C0.59432 13.8697 0.90897 14 1.23706 14C1.56515 14 1.8798 13.8697 2.11179 13.6377L7 8.74946L11.8882 13.6377C12.1202 13.8697 12.4349 14 12.7629 14C13.091 14 13.4057 13.8697 13.6377 13.6377C13.8697 13.4057 14 13.091 14 12.7629C14 12.4349 13.8697 12.1202 13.6377 11.8882L8.74638 7Z'
              fill='#0096EB'
            />
          </svg>
        ) : (
          <svg
            className='lg:hidden mr-4'
            onClick={() => setOpen(true)}
            width='18'
            height='15'
            viewBox='0 0 18 15'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <path
              d='M17.3571 11.52H0.642857C0.472361 11.52 0.308848 11.5959 0.188288 11.7309C0.0677294 11.8659 0 12.049 0 12.24L0 13.68C0 13.871 0.0677294 14.0541 0.188288 14.1891C0.308848 14.3241 0.472361 14.4 0.642857 14.4H17.3571C17.5276 14.4 17.6912 14.3241 17.8117 14.1891C17.9323 14.0541 18 13.871 18 13.68V12.24C18 12.049 17.9323 11.8659 17.8117 11.7309C17.6912 11.5959 17.5276 11.52 17.3571 11.52ZM17.3571 5.76H0.642857C0.472361 5.76 0.308848 5.83586 0.188288 5.97088C0.0677294 6.10591 0 6.28904 0 6.48L0 7.92C0 8.11096 0.0677294 8.29409 0.188288 8.42912C0.308848 8.56414 0.472361 8.64 0.642857 8.64H17.3571C17.5276 8.64 17.6912 8.56414 17.8117 8.42912C17.9323 8.29409 18 8.11096 18 7.92V6.48C18 6.28904 17.9323 6.10591 17.8117 5.97088C17.6912 5.83586 17.5276 5.76 17.3571 5.76ZM17.3571 0H0.642857C0.472361 0 0.308848 0.0758569 0.188288 0.210883C0.0677294 0.345909 0 0.529044 0 0.72L0 2.16C0 2.35096 0.0677294 2.53409 0.188288 2.66912C0.308848 2.80414 0.472361 2.88 0.642857 2.88H17.3571C17.5276 2.88 17.6912 2.80414 17.8117 2.66912C17.9323 2.53409 18 2.35096 18 2.16V0.72C18 0.529044 17.9323 0.345909 17.8117 0.210883C17.6912 0.0758569 17.5276 0 17.3571 0Z'
              fill='#0096EB'
            />
          </svg>
        )}
      </div>

      {isOpen && (
        <Fragment>
          <div className='w-full block flex flex-grow justify-end flex-col lg:flex-row lg:items-center lg:w-auto space-y-2 lg:space-y-0 mb-4 lg:mb-0'>
            <hr className='mt-4 mb-2 lg:hidden'></hr>
            {links.map((el, index) => (
              <a
                key={index}
                href={"#" + el[0].replace(" ", "-")}
                className='block mx-4 text-nav text-sm hover:text-teal-800 lg:inline-block lg:mt-0'
              >
                {el[0]}
              </a>
            ))}
          </div>

          <div className='flex flex-row-reverse lg:flex-row justify-around w-full lg:w-auto mx-8 space-x-4'>
            <a
              className='focus:outline-none'
              href='https://coronaina.com'
              target='_blank'
            >
              <LiveApp height='2.5rem' width='6rem' />
            </a>
            <a
              className='focus:outline-none'
              href='https://play.google.com/store/apps/details?id=id.braga.intan'
              target='_blank'
            >
              <GPlay height='2.5rem' width='6rem' />
            </a>
          </div>
        </Fragment>
      )}
    </nav>
  );
}
